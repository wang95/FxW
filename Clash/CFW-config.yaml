mixed-port: 7890
# redir-port: 7891
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:8910
# cfw-font-family: "æ›´çº±é»‘ä½“ UI SC"

cfw-bypass:
  - qq.com
  - music.163.com
  - "*.music.126.net"
  - localhost
  - 127.*
  - 10.*
  - 172.16.*
  - 172.17.*
  - 172.18.*
  - 172.19.*
  - 172.20.*
  - 172.21.*
  - 172.22.*
  - 172.23.*
  - 172.24.*
  - 172.25.*
  - 172.26.*
  - 172.27.*
  - 172.28.*
  - 172.29.*
  - 172.30.*
  - 172.31.*
  - 192.168.*
  - <local>
cfw-latency-timeout: 5000

proxies:
  - name: ğŸ‡ºğŸ‡² BW-US
    type: ss
    server: 0.0.0.0
    port: 445
    cipher: chacha20-ietf-poly1305
    password: pwd

proxy-providers:
  SubName:
    type: http
    path: ./subname.yaml
    url: https://exmaple.com/proxygroup.list
    interval: 3600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 600

proxy-groups:
  - name: ğŸŒPROXY
    proxies:
      - âœˆSubName
      - âš¡SubName-Auto
      - ğŸšSubName-Fallback
      - ğŸš€BW-ALT
    type: select

  - name: âœˆSubName
    type: select
    proxies: null
    use:
      - SubName

  - name: âš¡SubName-Auto
    proxies: null
    use:
      - SubName
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 3000

  - name: ğŸšSubName-Fallback
    proxies: null
    use:
      - SubName
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 3000

  - name: ğŸš€BW-ALT
    proxies:
      - ğŸ‡ºğŸ‡² BW-US
    type: select

  - name: ğŸ“ºMediaProxy
    proxies:
      - ğŸŒPROXY
      - ğŸš€BW-ALT
    type: select

  - name: ğŸš«Hijacking
    proxies:
      - REJECT
      - DIRECT
    type: select

  - name: ğŸ›¸Final
    proxies:
      - ğŸŒPROXY
      - DIRECT
    type: select

rule-providers:
  fix:
    type: http
    behavior: classical
    path: ./ruleset/fix.yaml
    url: https://github.com/wang95/FxW/raw/master/Clash/ruleset/fix.yaml
    interval: 86400

  hijacking:
    type: http
    behavior: classical
    path: ./ruleset/hijacking.yaml
    url: https://github.com/wang95/FxW/raw/master/Clash/ruleset/hijacking.yaml
    interval: 86400

  media:
    type: http
    behavior: classical
    path: ./ruleset/media.yaml
    url: https://github.com/wang95/FxW/raw/master/Clash/ruleset/media.yaml
    interval: 86400

  proxy:
    type: http
    behavior: classical
    path: ./ruleset/proxy.yaml
    url: https://github.com/wang95/FxW/raw/master/Clash/ruleset/proxy.yaml
    interval: 86400

  domestic:
    type: http
    behavior: classical
    path: ./ruleset/domestic.yaml
    url: https://github.com/wang95/FxW/raw/master/Clash/ruleset/domestic.yaml
    interval: 86400

rules:
  # Rulesets
  - RULE-SET,fix,DIRECT
  - RULE-SET,hijacking,ğŸš«Hijacking
  - RULE-SET,media,ğŸ“ºMediaProxy
  - RULE-SET,proxy,ğŸŒPROXY
  - RULE-SET,domestic,DIRECT

  # LAN
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
  - IP-CIDR,224.0.0.0/4,DIRECT

  # ï¼ˆå¯é€‰ï¼‰ä½¿ç”¨æ¥è‡ª ipipdotnet çš„ ChinaIP ä»¥è§£å†³æ•°æ®ä¸å‡†ç¡®çš„é—®é¢˜ï¼Œä½¿ç”¨ ChinaIP.yaml æ—¶å¯ç¦ç”¨ä¸‹åˆ—ç›´è‡³ï¼ˆåŒ…æ‹¬ï¼‰ã€ŒGEOIP,CNã€è§„åˆ™
  # - RULE-SET,ChinaIP,DIRECT
  # Tencent
  - IP-CIDR,119.28.28.28/32,DIRECT
  - IP-CIDR,182.254.116.0/24,DIRECT
  # GeoIP CN
  - GEOIP,CN,DIRECT

  # Others
  - MATCH,ğŸ›¸Final